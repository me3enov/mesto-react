{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","components/Header.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","api","config","this","_headers","authorization","_url","url","_cardsUrl","cardsUrl","_cardsLikesUrl","cardsLikesUrl","_userAvatarUrl","userAvatarUrl","_userInfoUrl","userInfoUrl","_errorText","errorText","fetch","method","headers","then","_checkServerResponse","Promise","all","getUserInfo","getCards","userData","body","JSON","stringify","name","about","link","avatar","cardData","_id","cardId","isLiked","res","ok","json","reject","status","Header","className","href","target","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","style","backgroundImage","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","aria-label","map","PopupWithForm","isOpen","onClose","title","children","buttonText","onSubmit","evt","currentTarget","id","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","avaRef","useRef","current","ref","AddPlacePopup","cardTitle","setCardTitle","cardLink","setCardLink","ImagePopup","alt","src","Footer","date","Date","getFullYear","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","catch","err","console","log","handleEscClose","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","item","user","profile","setUserInfo","setUserAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b67c7b8.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\n\nexport default CurrentUserContext;","class Api {\n  constructor(config) {\n    this._headers = {\n      authorization: config.authorization,\n      'Content-Type': 'application/json'\n    };\n    this._url = config.url;\n    this._cardsUrl = config.cardsUrl;\n    this._cardsLikesUrl = config.cardsLikesUrl;\n    this._userAvatarUrl = config.userAvatarUrl;\n    this._userInfoUrl = config.userInfoUrl;\n    this._errorText = config.errorText;\n  }\n\n  //get user info\n  getUserInfo() {\n    return fetch(`${this._url}${this._userInfoUrl}`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //get all cards\n  getCards() {\n    return fetch(`${this._url}${this._cardsUrl}`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //get all data\n  getAllData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }\n\n  //set user info\n  setUserInfo(userData) {\n    return fetch(`${this._url}${this._userInfoUrl}`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //set user avatar\n  setUserAvatar(link) {\n    return fetch(`${this._url}${this._userAvatarUrl}`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //new card\n  addNewCard(cardData) {\n    return fetch(`${this._url}${this._cardsUrl}`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //remove card\n  removeCard(cardData) {\n    return fetch(`${this._url}${this._cardsUrl}/${cardData._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //change like card status\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}${this._cardsLikesUrl}${cardId}`, {\n        method: isLiked ? \"PUT\" : \"DELETE\",\n        headers: this._headers\n      })\n      .then(this._checkServerResponse)\n  }\n\n  //check response from server\n  _checkServerResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`${this._errorText} ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nconst api = new Api({\n  authorization: '08402336-c176-4b17-bc07-4e156c9de6bc',\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\n  cardsUrl: '/cards',\n  cardsLikesUrl: '/cards/likes/',\n  userAvatarUrl: '/users/me/avatar',\n  userInfoUrl: '/users/me',\n  errorText: 'Ошибка:'\n});\n\nexport default api;","function Header() {\n  return (\n    <header className=\"header root__header\">\n      <a href=\"#\" target=\"_self\" className=\"header__logo\"></a>\n    </header>\n  );\n}\n\nexport default Header;","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__bin ${isOwn ? 'card__bin__visible' : ''}`\r\n  );\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_state_liked' : ''}`\r\n  );\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card)\r\n  }\r\n\r\n  function handleDeleteCard() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  return(\r\n    <li className=\"card\" key={card._id}>\r\n      <div className=\"card__image\" style={{ backgroundImage: `url(${card.link})` }} onClick={handleCardClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}/>\r\n      <h2 className=\"card__title\">{card.name}</h2>\r\n      <div className=\"card__like-container\">\r\n        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike}/>\r\n        <span className=\"card__like-count\">{card.likes.length}</span>\r\n      </div>\r\n  </li>\r\n  )\r\n}\r\n\r\nexport default Card;","import React, { useContext, useState, useEffect } from 'react';\nimport Card from './Card.js'\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile root__profile\">\n        <button className=\"profile__avatar\"\n          type=\"button\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={onEditAvatar}>\n        </button>\n        <div className=\"profile__line\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            type=\"button\"\n            className=\"profile__edit-button\"\n            onClick={onEditProfile}>\n          </button>\n        </div>\n        <p className=\"profile__job\">{currentUser.about}</p>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"cards\" aria-label=\"Cards\">\n        <ul className=\"gallery\">\n          {cards.map((card) =>\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}/>)}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main","function PopupWithForm ({ isOpen, onClose, name, title, children, buttonText, onSubmit }) {\n\n  function handleClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n\n  return (\n    <div\n      onClick={handleClickClose}\n      className={(isOpen ? `popup popup_place_${name}\n        popup_opened` :\n        `popup popup_place_${name}`)}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n          aria-label=\"Закрыть\">\n        </button>\n        <form\n          id={`form_place_${name}`}\n          className={`form form_place_${name}`}\n          name={`form__${name}`}\n          noValidate\n          onSubmit={onSubmit}>\n            <h2 className=\"form__title\">{title}</h2>\n            <fieldset className=\"form__input-container\">\n              {children}\n              <button\n              type=\"submit\"\n              className=\"form__submit-button\">\n                {buttonText}\n              </button>\n            </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React, { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  function handleUserName(event) {\n    setName(event.target.value)\n  }\n\n  function handleUserDescription(event) {\n    setDescription(event.target.value)\n  }\n\n  return (\n    <PopupWithForm\n      name=\"place_edit\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n        <input\n          id=\"form__input_string_name\"\n          className=\"form__input form__input_string_name\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name ? name : ''}\n          onChange={handleUserName}/>\n        <span\n          id=\"form__input_string_name-error\"\n          className=\"form__input-error\"/>\n        <input\n          id=\"form__input_string_job\"\n          className=\"form__input form__input_string_job\"\n          name=\"about\"\n          type=\"text\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description ? description : ''}\n          onChange={handleUserDescription}/>\n        <span\n          id=\"form__input_string_job-error\"\n          className=\"form__input-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React, { useRef, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avaRef = useRef('');\n\n  useEffect(() => {\n    avaRef.current.value = '';\n  }, [isOpen])\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avaRef.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      name=\"place_avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n        <input\n          id=\"form__input_string_avatar\"\n          className=\"form__input form__input_string_avatar\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={avaRef}/>\n        <span\n          id=\"form__input_string_avatar-error\"\n          className=\"form__input-error\"/>\n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [cardTitle, setCardTitle] = useState('');\n  const [cardLink, setCardLink] = useState('');\n\n  function handleCardTitle(event) {\n    setCardTitle(event.target.value)\n  }\n\n  function handleCardLink(event) {\n    setCardLink(event.target.value)\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    onAddPlace({\n      name: cardTitle,\n      link: cardLink\n    })\n  }\n\n  useEffect(() => {\n    setCardLink('')\n    setCardTitle('')\n  }, [isOpen])\n\n  return(\n    <PopupWithForm\n      name=\"place_add\"\n      title=\"Новое место\"\n      buttonText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n        <input\n          id=\"form__input_string_title\"\n          className=\"form__input form__input_string_title\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          onChange={handleCardTitle}\n          value={cardTitle ? cardTitle : ''}/>\n        <span\n          id=\"form__input_string_title-error\"\n          className=\"form__input-error\"/>\n        <input\n          id=\"form__input_string_link\"\n          className=\"form__input form__input_string_link\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          onChange={handleCardLink}\n          value={cardLink ? cardLink : ''}/>\n        <span\n          id=\"form__input_string_link-error\"\n          className=\"form__input-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","function ImagePopup ({ card, onClose }) {\n  function handleClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n  return(\n    <div\n      className={`popup popup_place_img ${card && \"popup_opened\"}`}\n      onClick={handleClickClose}>\n      <div className=\"popup__image-container\">\n        <button className=\"popup__close-button popup__close-button_place_img\" type=\"button\" onClick={onClose}/>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" alt={card?.name} src={card?.link}/>\n          <figcaption className=\"popup__description\">{card?.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","function Footer() {\n  const date = new Date().getFullYear();\n  return (\n    <footer className=\"footer root__footer\" aria-label=\"Footer\">\n      <p className=\"footer__copyright\">&copy; {date} Артем Мезенов</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, {useState, useEffect} from 'react';\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup'\nimport Footer from \"./Footer\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api.getCards()\n      .then(res => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleAddPlace(card) {\n    const cardData = {\n      name: card.name,\n      link: card.link\n    };\n    api.addNewCard(cardData)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(id) {\n    api.removeCard(id)\n      .then(() => {\n        setCards(cards.filter(item => item._id !== id));\n      })\n      .catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res)\n      })\n      .catch(err => console.log(err));\n  }, [])\n\n  function handleUpdateUser(user) {\n    const profile = {\n      name: user.name,\n      about: user.about\n    };\n    api.setUserInfo(profile)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(user) {\n    api.setUserAvatar(user.avatar)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard(null)\n  }\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"app\">\n        <div className=\"root\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onCardClick={handleCardClick}/>\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}/>\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}/>\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}/>\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <Footer />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}